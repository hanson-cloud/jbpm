<html>
<head>
     <title></title>
     <meta http-equiv="Content-Type" content="text/html; charset=GBK" />
</head>

<style>
.passednode {
	border: 2px solid blue;
	
}
.todonode {
	border: 2px solid red;
}
</style>

<script type="text/javascript" src="/eaptag2/js/ccftag.form.js"></script>

<script>
function toPage(caption) {
	parent.selectTab(caption);
}
</script>	

<html>
<body style="margin:0px;padding:0px;border:3px solid #648BC1;" scroll="auto">

<iframe src="/$module/jbpm?action=ProcessDefImage&pdf=$processName&history=$history" id="imgframe" frameborder="0" width="100%" onload="height=imgframe.document.body.scrollHeight+20; width=imgframe.document.body.scrollWidth+10"></iframe>
<!--
<div class="passednode" style="top:20px; left:20px; width:15px; height:8px; position:absolute;z-index:100"></div>
<div class="todonode" style="top:20px; left:120px; width:15px; height:8px; position:absolute;z-index:100"></div>
-->
<div style="top:40px; left:25px; position:absolute;z-index:100"><font color=blue>蓝色:</font>已经过步骤</div>
<div style="top:40px; left:125px; position:absolute;z-index:100"><font color=red>红色:</font>待处理步骤</div>

<!-- 标准路径图片的高亮显示(top + 15px, left + 10px) --> 
#set($i = 0)
#foreach($np in $passedNodes) 
#set($i = $i + 1)
#if($history == "true")
<div class="passednode" id="div_$i" style="cursor:hand; top:$np.y px; left:$np.x px; width:$np.width px; height:$np.height px; position:absolute;z-index:100"><table width="100%" height="100%"><tr><td onclick="toPage('$np.name')"></td></tr></table></div>
#else
<div class="$np.cls" id="div_$i" style="cursor:hand; top:$np.y px; left:$np.x px; width:$np.width px; height:$np.height px; position:absolute; z-index:100"><table width="100%" height="100%"><tr><td onclick="toPage('$np.name')"></td></tr></table></div>
<script>//document.getElementById("div_$i").style.top = document.getElementById("div_$i").offsetTop-10</script>
#end
#end

</body>
</html>